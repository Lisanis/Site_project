# Журнал работ

Web-сайт для отслеживания погоды городов мира, создания и редактирования blog-контента
Данное readme включает в себя инструкцию по быстрому запуску приложения.

## Инструкция по запуску приложения на Django

Приложение состоит из:
Базы данных в которой храняться данные с hh.ru
Модулей api_client и db_worker, которые позволяют получать данные с hh.ru и записывать их в базу
Flask-приложения для отображения диаграмм
Использованные библиотеки:
SQLAlchemy и Flask-SQLAlchemy - для взаимодействия с СУБД
Requests - для запросов к веб-ресурсам (api)
Flask - для реализации веб-приложения
Celery[redis] - для запуска сбора данных по рассписанию
и многие другие.
Для запуска необходимо:
✅ Python
✅ Redis
✅ SQLite
✅ Все зависимости из requirements.txt

Перед запуском установить [Django](https://www.djangoproject.com/download), [GIT](https://git-scm.com/download/win).
При запуске на windows необходимо клонировать репозиторий на диск c:/
1. Клонируем репозиторий (или определенную ветку) и заходим в папку:
  

$ git clone --branch development https://github.com/Lisanis/Site_project.git
$ cd site_project
$ cd sitegroup139
  
  
2. Запускаем создание образов и сборку контейнеров:
$ docker-compose up -d --build
3. Приложение доступно по адресу http://127.0.0.1:8000/
4. Для просмотра всех запущенных контейнеров и их логов (при некорректном запуске приложения):
$ docker ps -a
$ docker logs <CONTAINER ID>
5. Создаем и запускаем миграции для работы с БД
$ docker-compose exec web python web/manage.py makemigrations
$ docker-compose exec web python web/manage.py migrate
6. Для удаления всех контейнеров:
$ docker-compose down

  
## Работа в Django-admin

1. Для начала работы создаем суперпользователя:
$ docker-compose exec web python web/manage.py createsuperuser
2. Вводим произвольные имя, почту и пароль:
$ Имя пользователя: admin
$ Электронная почта: admin@example.com
$ Password: admin
$ Password (again): admin
3. Кабинет админстратора находится по адресу http://127.0.0.1:8000/admin/
4. Суперпользователю доступные все функции кабинета:
- просмотр, создание, изменение и удаление пользователей и любых параметров пользователей
- назначение прав другим пользователям
- создание групп пользователей
5. Для создания администраторов приложения требуется при создании или изменении пользователя установить галочку "Статус персонала" и наделить его необходимыми правами. Пользователи со статусом персонала имеют возможность заходить в кабинет администратора
6. Для блокировки пользователя требуется убрать галочку "Активный"
